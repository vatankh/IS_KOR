# Согласование предметной области, описание, требования и архитектура информационной системы

---

## Согласовать с преподавателем предметную область, для которой будет разрабатываться информационная система

**Предметная область**: Анализ и управление кодовой базой программных проектов.

Информационная система предназначена для автоматизации процесса анализа и управления исходным кодом в программных проектах. Система предоставляет возможность извлечения данных о структуре проекта, включая файлы, классы, методы, их зависимости и изменения. Также система фиксирует историю изменений, что помогает разработчикам отслеживать изменения в проекте и улучшать качество кода.

---

## Составить подробное текстовое описание предметной области

Предметная область охватывает разработку и сопровождение программного обеспечения, где одной из ключевых задач является понимание структуры существующего проекта. Это включает управление файлами, классами, методами, а также отслеживание изменений в коде. На основе анализа кода система предоставляет разработчикам доступ к информации о:
- Содержимом и структуре файлов проекта.
- Взаимодействии между классами и методами.
- Истории изменений кода и его версий.

Система позволяет автоматизировать рутинные задачи анализа, снижая вероятность ошибок и упрощая работу с кодовой базой в крупных проектах.

---

## Сформулировать, зачем нужна информационная система для представленной предметной области, какие задачи она позволит решить

**Зачем нужна система**: 
Информационная система нужна для упрощения анализа и управления кодовой базой, автоматизации отслеживания изменений и подготовки данных для последующей интеграции с системами искусственного интеллекта. Она сокращает время, затрачиваемое на изучение структуры кода, и предоставляет удобные инструменты для работы с проектами.

**Основные задачи системы**:
1. Автоматизация анализа структуры программного проекта.
2. Управление данными о файлах, классах и методах.
3. Отслеживание изменений в коде и управление версиями.
4. Генерация отчетов и предоставление интерфейса для поиска по проекту.
5. Подготовка данных для интеграции с системами ИИ.

---

## Составить функциональные/нефункциональные требования к разрабатываемой информационной системе

### Функциональные требования:
1. Возможность указания директории проекта для анализа.
2. Автоматическое извлечение данных о структуре кода (файлы, классы, методы, зависимости).
3. Сохранение данных в базе данных PostgreSQL.
4. Отслеживание изменений в файлах, классах и методах.
5. Предоставление интерфейса для поиска и визуализации данных о проекте.
6. Генерация отчетов о структуре и изменениях проекта.

### Нефункциональные требования:
1. Быстрая обработка больших проектов.
2. Удобный пользовательский интерфейс для взаимодействия с системой.
3. Масштабируемость для добавления новых функций или интеграции с другими системами.
4. Надежное хранение данных и история изменений.
5. Соответствие требованиям серверной архитектуры для демонстрации на сервере Helios.

---

## Построить модели основных прецедентов, составить их описание

### Прецеденты:
1. **Анализ структуры проекта**:
   - Пользователь указывает директорию проекта.
   - Система сканирует файлы, извлекает классы, методы и зависимости.
   - Данные сохраняются в базе данных.
2. **Поиск информации**:
   - Пользователь ищет классы или методы по имени.
   - Система возвращает информацию о найденных объектах, включая их местоположение и зависимости.
3. **Отслеживание изменений**:
   - Система проверяет изменения в коде, обновляет информацию в базе данных и записывает их в журнал.
4. **Генерация отчетов**:
   - Пользователь запрашивает отчет о текущей структуре проекта или истории изменений.
   - Система формирует и предоставляет отчет в формате PDF/JSON.

---

## Предложить архитектуру будущей системы

### Архитектура системы:
1. **Уровень хранения данных**:
   - PostgreSQL для хранения информации о проектах, классах, методах, файлах и журнала изменений.
   - Таблицы:
     - `Projects`: Сведения о проекте.
     - `Files`: Файлы проекта.
     - `Classes`: Классы в файлах.
     - `Methods`: Методы классов.
     - `Dependencies`: Связи между методами и классами.
     - `Change_Log`: Журнал изменений.
2. **Уровень бизнес-логики**:
   - Реализация на Jakarta EE или Spring MVC.
   - Основные функции:
     - Анализ и обработка структуры проекта.
     - Управление изменениями и версиями.
     - Взаимодействие с базой данных.
3. **Уровень представления**:
   - Реализация на React или Angular.
   - Интерфейс для:
     - Указания директории проекта.
     - Просмотра структуры кода.
     - Поиска данных.
     - Генерации отчетов.

---

## Согласовать с преподавателем технологии и фреймворки

**Технологии и фреймворки**:
- **Frontend**: React или Angular.
- **Backend**: Spring MVC.
- **База данных**: PostgreSQL.
- **Средства разработки**: Maven/Gradle для управления зависимостями.

---

## Таблицы для базы данных

### Projects
- `id` (PK): Уникальный идентификатор проекта.
- `name`: Название проекта.
- `root_path`: Путь к корневой директории.
- `created_at`: Дата создания.
- `updated_at`: Дата обновления.

### Files
- `id` (PK): Уникальный идентификатор файла.
- `project_id` (FK): Ссылка на проект.
- `path`: Путь к файлу.
- `name`: Имя файла.
- `type`: Тип файла (e.g., `.java`, `.py`).
- `hash`: Хеш содержимого файла.
- `created_at`: Дата создания.
- `updated_at`: Дата обновления.

### Classes
- `id` (PK): Уникальный идентификатор класса.
- `file_id` (FK): Ссылка на файл.
- `name`: Имя класса.
- `namespace`: Пространство имен (если есть).
- `start_line`: Номер строки начала класса.
- `end_line`: Номер строки конца класса.
- `created_at`: Дата создания.
- `updated_at`: Дата обновления.

### Methods
- `id` (PK): Уникальный идентификатор метода.
- `class_id` (FK): Ссылка на класс.
- `name`: Имя метода.
- `parameters`: Параметры метода (JSON).
- `return_type`: Тип возвращаемого значения.
- `start_line`: Номер строки начала метода.
- `end_line`: Номер строки конца метода.
- `created_at`: Дата создания.
- `updated_at`: Дата обновления.

### Dependencies
- `id` (PK): Уникальный идентификатор зависимости.
- `source_id`: ID исходного объекта (метода/класса).
- `target_id`: ID целевого объекта (метода/класса).
- `dependency_type`: Тип зависимости (e.g., "calls", "inherits").
- `created_at`: Дата создания.

### Change_Log
- `id` (PK): Уникальный идентификатор записи.
- `entity_type`: Тип изменённого объекта (e.g., `file`, `class`, `method`).
- `entity_id`: ID изменённого объекта.
- `change_type`: Тип изменения (e.g., `added`, `modified`, `deleted`).
- `old_value`: Предыдущее значение (JSON).
- `new_value`: Новое значение (JSON).
- `timestamp`: Время изменения.
